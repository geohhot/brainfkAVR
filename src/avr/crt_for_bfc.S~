
.include "m644Adef.inc"
	
.text
.org 0x00

;;; init the UART0
	;; ldi r17, (1<<TXEN0)
	;; sts UCSR0B, r17

	;; ldi r17, (1<<UCSZ01) | (1<<UCSZ00)
	;; sts UCSR0C, r17

	;; ldi r17, lo8 (103)
	;; sts UBRR0L, r17
	;; clr r17
	;; sts UBRR0H, r17

	;; sbi DDRD, PD0

send_char:
	;; ldi r16, 'G'
	;; init the UART0
	sts UDR0, r16
lloop:	
	lds r17, UCSR0A
	sbrs r17, TXC0
	rjmp lloop
	sbr r17, (1 << TXC0)
	sts UCSR0A, r17

	;; rjmp .-2
;; loop:
;; 	jmp RESET

	;; ldi r16, 0
	

	
